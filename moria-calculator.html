<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>MoriaCalculator</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body>
    <div class="vstack gap-3 pt-3 fixed-top bg-light">
        <div class="container-fluid sum_info">
            <div class="row gx-1 p-1 d-flex align-items-center" data-toggle="tooltip" data-placement="left" title="Î¥Î ÎŸÎ›ÎŸÎ“Î™Î£ÎœÎŸÎ£ ÎœÎŸÎ¡Î™Î©Î ÎœÎŸÎÎ™ÎœÎ©Î Î•ÎšÎ Î‘Î™Î”Î•Î¥Î¤Î™ÎšÎ©Î">
                <div class="col-sm-4 d-flex justify-content-end">
                    <h4>Î£Î¥ÎÎŸÎ›Î™ÎšÎ‘ ÎœÎŸÎ¡Î™Î‘ ÎœÎŸÎÎ™ÎœÎŸÎ¥:</h4>
                </div>
                <div class="col-sm-1">
                    <div class="alert alert-success total_moria" id="total_moria" role="alert">0</div>
                </div>
                <div class="col-sm-7">
                    <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                        Î Î•Î¡Î™Î£Î£ÎŸÎ¤Î•Î¡Î‘ ÎšÎ¡Î™Î¤Î—Î¡Î™Î‘
                    </button>
                
                    <div class="collapse" id="collapseExample">
                        <div class="card card-body">
                            <div class="row bg-light d-flex justify-content-center">
                                <div class="col-sm-3">
                                    <input type="checkbox" class="entopiotita" id="entopiotita" name="entopiotita" value="0"><label for="entopiotita" class="entopiotita">Î•ÎÎ¤ÎŸÎ Î™ÎŸÎ¤Î—Î¤Î‘</label>
                                </div>
                                <div class="col-sm-3">
                                    <input type="checkbox" class="gamos-xhreia" id="gamos-xhreia" name="gamos-xhreia" value="0"><label for="gamos-xhreia" class="gamos-xhreia">Î“Î‘ÎœÎŸÎ£ / Î§Î—Î¡Î•Î™Î‘</label>
                                </div>
                                <div class="col-sm-3">
                                    <input type="checkbox" class="synypiretisi" id="synypiretisi" name="synypiretisi" value="0"><label for="synypiretisi" class="synypiretisi">Î£Î¥ÎÎ¥Î Î—Î¡Î•Î¤Î—Î£Î—</label>
                                </div>
                                <div class="col-sm-3">
                                    <div class="col text-center form-group">
                                        <!--<h6 class="text-center">Î Î‘Î™Î”Î™Î‘:</h6>-->
                                        <input type="number" class="form-control-sm w-25 paidia" id="paidia" name="paidia" min="0" max="25" value="0" step="1" placeholder="Ï€Î»Î·ÎºÏ„ÏÎ¿Î»Î¿Î³Î®ÏƒÏ„Îµ Î±ÏÎ¹Î¸Î¼ÏŒ Ï€Î±Î¹Î´Î¹ÏÎ½...">
                                        <label for="paidia" class="paidia col-form-label-sm">Î Î‘Î™Î”Î™Î‘</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
    
    <!-- Modal -->
    <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modal">ÎšÎ¡Î™Î¤Î—Î¡Î™Î‘</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <ul>
                <li>2.5 Î¼ÏŒÏÎ¹Î± Î³Î¹Î± ÎºÎ¬Î¸Îµ Ï€Î»Î®ÏÎµÏ‚ 12Î¼Î·Î½Î¿ Ï€ÏÎ¿Ï‹Ï€Î·ÏÎµÏƒÎ¯Î±Ï‚</li>
                <li>Ï€ÏÎ¿ÏƒÏ„Î¯Î¸ÎµÎ½Ï„Î±Î¹ Ï„Î± ÎœÎ£Î” Ï„Î·Ï‚ Î£Ï‡Î¿Î»Î¹ÎºÎ®Ï‚ ÎœÎ¿Î½Î¬Î´Î±Ï‚</li>
                <li>ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· Î´Ï…Ï€ÏÏŒÏƒÎ¹Ï„Î¿Ï… ÏƒÏ‡Î¿Î»ÎµÎ¯Î¿Ï… Î¿Î¹ ÎœÎ£Î” Î´Î¹Ï€Î»Î±ÏƒÎ¹Î¬Î¶Î¿Î½Ï„Î±Î¹. Î‘Î»Î»Î¬ ÏŒÏ‡Î¹ Î³Î¹Î± Ï„Î± Î­Ï„Î· ÏŒÏ„Î±Î½ Î®Ï„Î±Î½ Î‘Î½Î±Ï€Î»Î·ÏÏ‰Ï„Î®Ï‚</li>
                <li>ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· Î»Î¹Î³ÏŒÏ„ÎµÏÏ‰Î½ Î¼Î·Î½ÏÎ½ Î±Ï€ÏŒ 12 Ï„ÏŒÏ„Îµ ÎºÎ±Î¹ Ï„Î¿ Ï…Ï€ÏŒÎ»Î¿Î¹Ï€Î¿ Ï„Ï‰Î½ Î·Î¼Î­ÏÏ‰Î½ ÎµÎ¯Î½Î±Î¹ >= 15 Ï„ÏŒÏ„Îµ Ï€ÏÎ¿ÏƒÏ„Î¯Î¸ÎµÏ„Î±Î¹ Î¿Î»ÏŒÎºÎ»Î·ÏÎ¿Ï‚ Î¿ Î¼Î®Î½Î±Ï‚</li>
                <li>ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· Î‘Î½Î±Ï€Î»Î·ÏÏ‰Ï„Î® Î‘ÎœÎ© Ï„ÏŒÏ„Îµ Î³Î¯Î½ÎµÏ„Î±Î¹ Ï€Î¿ÏƒÎ¿ÏƒÏ„Î¹Î±Î¯Î± Î²Î¬ÏƒÎµÎ¹ Ï„Ï‰Î½ Ï‰ÏÏÎ½</li>
                <li>ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· Î‘Î½Î±Ï€Î»Î·ÏÏ‰Ï„Î® Î³Î¯Î½ÎµÏ„Î±Î¹ Ï€Î¿ÏƒÎ¿ÏƒÏ„Î¹Î±Î¯Î± Î²Î¬ÏƒÎµÎ¹ Î¼Î·Î½ÏÎ½</li>
                <li>ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· ÎœÏŒÎ½Î¹Î¼Î¿Ï… ÏŒÏ€Î¿Ï… Ï€Î­Ï„Ï…Ï‡Îµ Ï„Î·Î½ Ï€ÏÏÏ„Î· ÎµÏ€Î¹Î»Î¿Î³Î® Ï„Î¿Ï… ÏƒÎµ Î¼ÎµÏ„Î¬Î¸ÎµÏƒÎ· Ï„ÏŒÏ„Îµ Ï€ÏÎ¿ÏƒÏ„Î¯Î¸ÎµÎ½Ï„Î±Î¹ 2 Î¼ÏŒÏÎ¹Î± Î³Î¹Î± Ï„Î¿ Î­Ï„Î¿Ï‚</li>
                <li>Î­Ï‰Ï‚ 2 Ï€Î±Î¹Î´Î¹Î¬ 4 Î¼ÏŒÏÎ¹Î± Ï„Î¿ ÎºÎ¬Î¸ÎµÎ½Î±, 3Î¿ Ï€Î±Î¹Î´Î¯ 6 Î¼ÏŒÏÎ¹Î±, Î³Î¹Î± ÎºÎ¬Î¸Îµ Ï€Î±Î¹Î´Î¯ Î¬Î½Ï‰ Ï„Ï‰Î½ Ï„ÏÎ¹ÏÎ½ 7 Î¼ÏŒÏÎ¹Î± Ï„Î¿ ÎºÎ±Î¸Î­Î½Î±</li>
                <li>Î•Î½Ï„Î¿Ï€Î¹ÏŒÏ„Î·Ï„Î± â€¢ Î“Î¬Î¼Î¿Ï‚/Î§Î·ÏÎµÎ¯Î± â€¢ Î£Ï…Î½Ï…Ï€Î·ÏÎ­Ï„Î·ÏƒÎ· 4 Î¼ÏŒÏÎ¹Î±</li>
            </ul>
            <div class="alert alert-warning" role="alert">Coming soon: ÎµÎ¹Î´Î¹ÎºÎ­Ï‚ Ï€ÎµÏÎ¹Ï€Ï„ÏÏƒÎ·Ï‚ Î±Î½Î±Ï€Î·ÏÎ¯Î±Ï‚, Î±Î½Î®Î»Î¹ÎºÏ‰Î½ Ï„Î­ÎºÎ½Ï‰Î½ ÎºÎ»Ï€.</div>
            
            <p><a href="https://www.minedu.gov.gr/news/56768-12-10-23-egkyklioi-metatheseon-ekpaideftikon-avathmias-kai-vvathmias-ekpaidefsis" target="_blank" class="tooltip-test" title="Î•Î“ÎšÎ¥ÎšÎ›Î™ÎŸÎ£ ÎœÎ•Î¤Î‘Î˜Î•Î£Î•Î©Î">Î•Î“ÎšÎ¥ÎšÎ›Î™ÎŸÎ£ ÎœÎ•Î¤Î‘Î˜Î•Î£Î•Î©Î ğŸ”—</a></p>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="container-fluid text-center bg-info border rounded border-light mt-4 school" id="school">
        <div class="row gx-5 p-3">
            <div class="col-sm-6 align-self-right"><span class="school-order"><i>ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ Î³Î¹Î± Ï„Î¿ ÏƒÏ‡Î¿Î»ÎµÎ¯Î¿</i></span>
            </div>
            <div class="col-sm-6 align-self-right">
                <button id="remove_btn" class="btn btn-danger float-right" type="button">Î”Î™Î‘Î“Î¡Î‘Î¦Î—</button>
            </div>
        </div>
        <div class="row p-1">
            <div class="col d-flex justify-content-center">
                <div class="alert alert-success school_total_moria" id="school_total_moria" role="alert">0
                </div>
            </div>
        </div>
        <div class="row gx-5 p-2 d-flex justify-content-center">
            <div class="col-md-3 p-2">
                <span><strong>Î•Î¤ÎŸÎ£:</strong></span>
                <select class="form-select school_year" id="school_year" aria-label="ÎˆÏ„Î¿Ï‚">
                </select>
            </div>
            <div class="col-md-3 p-2">
                <span><strong>Î£Î§ÎŸÎ›Î•Î™ÎŸ:</strong></span>
                <input type="text" class="w-50 school_name" id="school_name" name="school_name" placeholder="Ï€Î»Î·ÎºÏ„ÏÎ¿Î»Î¿Î³Î®ÏƒÏ„Îµ ÏŒÎ½Î¿Î¼Î± ÏƒÏ‡Î¿Î»ÎµÎ¯Î¿Ï…...">
            </div>
            <div class="col-md-3 p-2" data-toggle="tooltip" data-placement="top" title="10 Î­Ï‰Ï‚ 14 ÎµÎ¯Î½Î±Î¹ Î´Ï…ÏƒÏ€ÏÏŒÏƒÎ¹Ï„Î±">
                <span><strong>ÎœÎ£Î”:</strong></span>
                <select class="form-select school_points" id="school_points" aria-label="ÎœÏŒÏÎ¹Î± Î£Ï‡Î¿Î»ÎµÎ¯Î¿Ï…">
                    <option selected value="1">1</option>
                    <option value="2">2</option><option value="3">3</option>
                    <option value="4">4</option><option value="5">5</option>
                    <option value="6">6</option><option value="7">7</option>
                    <option value="8">8</option><option value="9">9</option>
                    <option value="10">10</option><option value="11">11</option>
                    <option value="12">12</option><option value="13">13</option>
                    <option value="14">14</option>
                </select>
            </div>
            <div class="col-md-3 p-2">
                <span><strong>Î©Î¡Î•Î£</strong></span>
                <select class="form-select hours_start" id="hours_start" aria-label="Î‘Ï€ÏŒ">
                        <option selected value="23">23</option>
                        <option value="1">1</option>
                        <option value="2">2</option><option value="3">3</option>
                        <option value="4">4</option><option value="5">5</option>
                        <option value="6">6</option><option value="7">7</option>
                        <option value="8">8</option><option value="9">9</option>
                        <option value="10">10</option><option value="11">11</option>
                        <option value="12">12</option><option value="13">13</option>
                        <option value="14">14</option><option value="15">15</option>
                        <option value="16">16</option><option value="17">17</option>
                        <option value="18">18</option><option value="19">19</option>
                        <option value="20">20</option><option value="21">21</option>
                        <option value="22">22</option><option value="23">23</option>
                        <option value="24">24</option><option value="25">25</option>
                        <option value="26">26</option><option value="27">27</option>
                        <option value="28">28</option><option value="29">29</option>
                        <option value="30">30</option>
                </select>
                <span> Î±Ï€ÏŒ Ï„Î¹Ï‚ </span>
                <select class="form-select hours_end" id="hours_end" aria-label="Î­Ï‰Ï‚" data-toggle="tooltip" data-placement="top" title="Î‘Î Î© Î -Î²Î¸Î¼Î¹Î±Ï‚ ÎµÎ¯Î½Î±Î¹ 25, Î‘Î Î© Î”-Î²Î¸Î¼Î¹Î±Ï‚ 23 ÏÏÎµÏ‚, Î‘Î Î© ÎšÎ•Î”Î‘Î£Î¥ 30 ÏÏÎµÏ‚">
                        <option selected value="23">23</option>
                        <option value="1">1</option>
                        <option value="2">2</option><option value="3">3</option>
                        <option value="4">4</option><option value="5">5</option>
                        <option value="6">6</option><option value="7">7</option>
                        <option value="8">8</option><option value="9">9</option>
                        <option value="10">10</option><option value="11">11</option>
                        <option value="12">12</option><option value="13">13</option>
                        <option value="14">14</option><option value="15">15</option>
                        <option value="16">16</option><option value="17">17</option>
                        <option value="18">18</option><option value="19">19</option>
                        <option value="20">20</option><option value="21">21</option>
                        <option value="22">22</option><option value="23">23</option>
                        <option value="24">24</option><option value="25">25</option>
                        <option value="26">26</option><option value="27">27</option>
                        <option value="28">28</option><option value="29">29</option>
                        <option value="30">30</option>
                </select>
            </div>
        </div>
        
        <div class="row gx-5 p-2 d-flex justify-content-sm-center">
            <div class="col-md-4 p-2">
                <span><strong>ÎšÎ‘Î¤Î‘Î£Î¤Î‘Î£Î— Î•ÎšÎ Î‘Î™Î”Î•Î¥Î¤Î™ÎšÎŸÎ¥:</strong></span>
                <select class="form-select when_diorismos" id="when_diorismos" aria-label="ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÎ¿Ï">
                    <option selected value="ÎœÎŸÎÎ™ÎœÎŸÎ£">ÎœÎŸÎÎ™ÎœÎŸÎ£/-Î—</option>
                    <option value="Î‘ÎÎ‘Î Î›Î—Î¡Î©Î¤Î—Î£">Î‘ÎÎ‘Î Î›Î—Î¡Î©Î¤Î—Î£/-Î¤Î¡Î™Î‘</option>
                    <option value="Î©Î¡ÎŸÎœÎ™Î£Î˜Î™ÎŸÎ£">Î©Î¡ÎŸÎœÎ™Î£Î˜Î™ÎŸÎ£/-Î™Î‘</option>
                </select>
            </div>
            <div class="col-md-4 p-2">
                <span><strong>ÎœÎ—ÎÎ•Î£:</strong></span>
                <select class="form-select months" id="months" aria-label="ÎœÎ®Î½ÎµÏ‚">
                    <option selected value="1">12</option>
                    <option value="1">1</option>
                    <option value="2">2</option><option value="3">3</option>
                    <option value="4">4</option><option value="5">5</option>
                    <option value="6">6</option><option value="7">7</option>
                    <option value="8">8</option><option value="9">9</option>
                    <option value="10">10</option><option value="11">11</option>
                    <option value="12">12</option>
                </select>
            </div>
            <div class="col-md-4 p-2">
                <span><strong>Î¥Î ÎŸÎ›ÎŸÎ™Î ÎŸ Î—ÎœÎ•Î¡Î©Î:</strong></span>
                <select class="form-select days" id="days" aria-label="Î¥Ï€ÏŒÎ»Î¿Î¹Ï€Î¿ Î—Î¼ÎµÏÏÎ½ ÎœÎ®Î½Î±">
                    <option selected value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option><option value="3">3</option>
                    <option value="4">4</option><option value="5">5</option>
                    <option value="6">6</option><option value="7">7</option>
                    <option value="8">8</option><option value="9">9</option>
                    <option value="10">10</option><option value="11">11</option>
                    <option value="12">12</option><option value="13">13</option>
                    <option value="14">14</option><option value="15">15</option>
                    <option value="16">16</option><option value="17">17</option>
                    <option value="18">18</option><option value="19">19</option>
                    <option value="20">20</option><option value="21">21</option>
                    <option value="22">22</option><option value="23">23</option>
                    <option value="24">24</option><option value="25">25</option>
                    <option value="26">26</option><option value="27">27</option>
                    <option value="28">28</option><option value="29">29</option>
                    <option value="30">30</option>
                </select>
            </div>
        </div>
        <div class="row gx-5">
            <div class="col p-3">
            </div>
        </div>
        
        <div class="row bg-light p-2">
            <div class="col">
                <button id="add_btn" class="btn btn-success" type="button">Î Î¡ÎŸÎ£Î˜Î—ÎšÎ— Î Î¡ÎŸÎ«Î Î—Î¡Î•Î£Î™Î‘Î£ (Î£Î§ÎŸÎ›Î•Î™ÎŸ)
                </button>
            </div>
        </div>
    </div>
    
    <div class="container-fluid gx-5 p-3" id="credits">
        <div class="row gx-5 bg-light d-flex justify-content-between">
            <div class="col-sm-10 p-3">
                <p>Made with â¤ï¸ by <a href="https://giftakis.gr/ekpaideutikoi" target="_blank">Î™Ï‰Î¬Î½Î½Î·Ï‚ Î“Ï…Ï†Ï„Î¬ÎºÎ·Ï‚ (Î Î•86 - Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÎºÎ®Ï‚)</a></p>
                <p>special thanks to <a href="https://swiy.co/savvas-pinakes" target="_blank">Î£Î¬Î²Î²Î±Ï‚ Î Î±Ï€Î±Î´ÏŒÏ€Î¿Ï…Î»Î¿Ï‚ (Î Î•86)</a></p>
            </div>
            <div class="col-sm-2 p-1">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal">ÎšÎ¡Î™Î¤Î—Î¡Î™Î‘
                </button>
            </div>
        </div>
    </div>
    
    
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <script>
        $(document).ready(function(){
            
            let clone_counter = 1;
            
            let currentTime = new Date();
            let year = currentTime.getFullYear();
            
            $("#school_year").append('<option selected value="' + year + '">' + year + '</option>');
            for (var index = 1; index <= 35; index++) {
                tmp_year = year - index
                $('#school_year').append('<option value="' + tmp_year + '">' + tmp_year + '</option>');
            }
            
            $("#add_btn").click(function(){
                $('#school')
                .clone(true,true)
                .attr('id', 'school-'+ clone_counter++)
                .insertAfter($('.school:last'))
                .find("input[type='text']").val("");
                
                $('.school').each(function(i, elem) {
                    $(this).find(".school-order").text("#"+ ++i);
                });
                
                $(document).scrollTop($(document).height());
            });    
            
            $("#remove_btn").on("click", function(event){
                $( this ).closest('div.school').remove();
            });
            
            $("#hours_start").on("click", function(event){
                let hours_start_elem = $(event.target).closest('.school').find('#hours_start');
                let hours_end_elem = $(event.target).closest('.school').find('#hours_end');
                
                let hours_start = hours_start_elem.val();
                let hours_end = hours_end_elem.val();
                
                
                if (hours_start > hours_end) {
                    hours_start_elem.val(hours_end);
                }
            });
            
            
            // $(document).on("change", function(event) {
            $(document).on("change", "#months,#days,#school_points,#hours_start,#hours_end,#school_total_moria,input[type='checkbox'],input[type='text'],.when_diorismos,#paidia", function(event) {
 
                // let div_school_uid = $(this).closest(".school").attr('id');
                
                let school_moria = 0;
                
                let months_elem = $(event.target).closest('.school').find('#months');
                let days_elem = $(event.target).closest('.school').find('#days');
                let school_points_elem = $(event.target).closest('.school').find('#school_points');
                let before_diorismos_elem = $(event.target).closest('.school').find('#before_diorismos');
                let after_diorismos_elem = $(event.target).closest('.school').find('#after_diorismos');
                let when_diorismos_elem = $(event.target).closest('.school').find('#when_diorismos');
                let hours_start_elem = $(event.target).closest('.school').find('#hours_start');
                let hours_end_elem = $(event.target).closest('.school').find('#hours_end');
                let first_choice_elem = $(event.target).closest('.school').find('#first_choice');
                let entopiotita_elem = $('#entopiotita');
                let gamos_xhreia_elem = $('#gamos-xhreia');
                let synypiretisi_elem = $('#synypiretisi');
                let paidia_elem = $('#paidia');
                let school_total_moria_elem = $(event.target).closest('.school').find('#school_total_moria');
                
                let months = parseInt( months_elem.val() );
                let days = parseInt( days_elem.val() );
                let school_points = parseInt( school_points_elem.val() );
                let months_mds = months;
                
                if (months < 12 && days > 14) {
                    months_mds = months + 1;
                } 
                
                // ÎœÎŸÎ¡Î™Î‘ ÎœÎ”Î£ Î‘ÎÎ‘Î›ÎŸÎ“Î‘ Î¤ÎŸÎ¥Î£ ÎœÎ—ÎÎ•Î£
                let months_frac = months / 12;
                let months_mds_frac = months_mds / 12;
                let hours_frac = 1;
                
                if (when_diorismos_elem.val() == "Î‘ÎÎ‘Î Î›Î—Î¡Î©Î¤Î—Î£") {
                    first_choice_elem.prop("checked", false);
                    first_choice_elem.prop("disabled", true);
                    
                    hours_frac = hours_start_elem.val() / hours_end_elem.val();
            
                    // Î‘ÎœÎ©
                    if (hours_frac < 1) {
                        months = months * hours_frac;
                        months_mds = months_mds * hours_frac;
                    }
                    
                    if (months >= 11) {
                        months_elem.val(10);
                    }
                } 
                if (when_diorismos_elem.val() == "ÎœÎŸÎÎ™ÎœÎŸÎ£") {
                    first_choice_elem.prop("disabled", false);
                    
                    months_frac = 1;
                    months_mds_frac = 1;
                    hours_frac = 1;
                    
                    if (school_points >= 10) {
                        school_points = school_points * 2;
                    }
                    
                    if (first_choice_elem.is(":checked")) {
                        school_moria = school_moria + 2;
                    }
                    
                    // has to be done after â†–
                    months_elem.val(12);
                    hours_start_elem.val( hours_end_elem.val() );
                }
                school_moria += (months_frac * 2.5) + (school_points * months_mds_frac * hours_frac);
                
                school_total_moria_elem.text( Math.round(school_moria * 100) / 100 );
                
                
                // TOTAL MORIA
                let total_moria = 0;
                
                $('.school').each(function() {
                    let tmp_school_total_moria = $(this).find(".school_total_moria").text();
                    total_moria += parseFloat(tmp_school_total_moria);
                });
                
                if (entopiotita_elem.is(":checked")){
                    total_moria += 4;
                }
                if (gamos_xhreia_elem.is(":checked")){
                    total_moria += 4;
                }
                if (synypiretisi_elem.is(":checked")){
                    total_moria += 4;
                }
                
                let paidia = parseInt(paidia_elem.val());
                if (paidia <= 2) {
                    total_moria += paidia*4;
                } else if (paidia == 3) {
                    total_moria += 2*4 + 6;
                } else {
                    total_moria += 2*4 + 6 + (paidia - 3)*7;
                }
                
                $("#total_moria").text(Math.round(total_moria * 100) / 100 );

            });
            
            
            // tooltips everywhere
            $(function () {
                $('[data-toggle="tooltip"]').tooltip()
            });
            
        });
    </script>
</body>

</html>